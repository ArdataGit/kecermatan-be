generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x", "debian-openssl-1.1.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model AffiliateWithdrawal {
  id                  Int                       @id @default(autoincrement())
  userId              Int
  amount              Decimal                   @db.Decimal(10, 2)
  status              AffiliateWithdrawalStatus @default(pending)
  notes               String?                   @db.Text
  processedAt         DateTime?
  createdAt           DateTime                  @default(now())
  updatedAt           DateTime                  @updatedAt
  payload_destination String?                   @db.Text
  user                User                      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId], map: "affiliate_withdrawals_userId_fkey")
  @@map("affiliate_withdrawals")
}

model User {
  id                   Int                   @id @default(autoincrement())
  email                String                @unique
  name                 String?
  noWA                 String?
  jenisKelamin         enumGender            @default(L)
  alamat               String?               @db.Text
  provinsi             String?
  kabupaten            String?
  kecamatan            String?
  password             String
  gambar               String?               @default("public/DEFAULT_USER.png")
  role                 EnumRole              @default(USER)
  verifyAt             DateTime?
  createdAt            DateTime              @default(now())
  updatedAt            DateTime              @updatedAt
  jwtVersion           Int                   @default(0)
  affiliateBalance     Decimal               @default(0.00) @db.Decimal(10, 2)
  affiliateCode        String?               @db.VarChar(100)
  affiliateCommission  Int                   @default(0)
  affiliateFromUserId  Int?
  affiliateLink        String?               @db.VarChar(500)
  affiliateStatus      AffiliateStatus       @default(active)
  commissionType       String?               @default("percent")
  feedback             Feedback?
  KecermatanHistory    KecermatanHistory[]
  KecermatanRanking    KecermatanRanking[]
  NotificationUser     NotificationUser[]
  referredPurchases    Pembelian[]           @relation("ReferredPurchases")
  Pembelian            Pembelian[]
  Tryout               Tryout[]
  affiliateFromUser    User?                 @relation("AffiliateFrom", fields: [affiliateFromUserId], references: [id])
  affiliateToUsers     User[]                @relation("AffiliateFrom")
  affiliateWithdrawals AffiliateWithdrawal[]
  historyBacaan        historyBacaan[]
  historyIsian         historyIsian[]
  Ticket               tickets[]

  @@index([affiliateFromUserId], map: "User_affiliateFromUserId_fkey")
}

model FeedbackSetting {
  id        Int      @id @default(autoincrement())
  isActive  Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Feedback {
  id        Int      @id @default(autoincrement())
  userId    Int      @unique
  pekerjaan String?  @db.Text
  rating    Int
  saran     String?  @db.Text
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model DashboardNotification {
  id          Int                    @id @default(autoincrement())
  title       String?                @db.VarChar(100)
  description String                 @db.Text
  link        String?                @db.VarChar(255)
  type        enumNotificationType   @default(info)
  priority    Int                    @default(0)
  status      enumNotificationStatus @default(active)
  createdAt   DateTime               @default(now())
  updatedAt   DateTime               @updatedAt
}

model tickets {
  id            Int      @id @default(autoincrement())
  userId        Int
  title         String
  description   String   @db.Text
  category      String?
  status        String   @default("open")
  image         String?
  adminResponse String?  @db.Text
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  user          User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId], map: "Ticket_userId_fkey")
}

model BankSoalParentCategory {
  id               Int                @id @default(autoincrement())
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  keterangan       String?            @db.Text
  nama             String             @unique
  BankSoalCategory BankSoalCategory[]
}

model BankSoalCategory {
  id                 Int                    @id @default(autoincrement())
  nama               String
  kkm                Int                    @default(0)
  createdAt          DateTime               @default(now())
  updatedAt          DateTime               @updatedAt
  parentCategoryId   Int
  tipePenilaian      tipePenilaian          @default(BENAR_SALAH)
  keterangan         String?                @db.Text
  paketRekomendasiId Int?
  BankSoal           BankSoal[]
  parentCategory     BankSoalParentCategory @relation(fields: [parentCategoryId], references: [id], onDelete: Cascade)
  PaketLatihanSoal   PaketLatihanSoal[]

  @@index([parentCategoryId], map: "BankSoalCategory_parentCategoryId_fkey")
}

model BankSoalSubCategory {
  id        Int      @id @default(autoincrement())
  value     String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model BankSoal {
  id              Int               @id @default(autoincrement())
  categoryId      Int
  soal            String            @db.Text
  pembahasan      String            @db.Text
  createdAt       DateTime          @default(now())
  updatedAt       DateTime          @updatedAt
  deletedAt       DateTime?
  subCategory     String?           @db.Text
  category        BankSoalCategory  @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  BankSoalJawaban BankSoalJawaban[]

  @@index([categoryId], map: "BankSoal_categoryId_fkey")
}

model BankSoalJawaban {
  id         Int      @id @default(autoincrement())
  bankSoalId Int
  jawaban    String   @db.Text
  isCorrect  Boolean  @default(false)
  point      Int      @default(0)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  bankSoal   BankSoal @relation(fields: [bankSoalId], references: [id], onDelete: Cascade)

  @@index([bankSoalId], map: "BankSoalJawaban_bankSoalId_fkey")
}

model PaketCategory {
  id               Int                @id @default(autoincrement())
  nama             String
  keterangan       String?            @db.Text
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  PaketSubCategory PaketSubCategory[]
}

model PaketSubCategory {
  id              Int           @id @default(autoincrement())
  nama            String
  keterangan      String?       @db.Text
  paketCategoryId Int
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  paketCategory   PaketCategory @relation(fields: [paketCategoryId], references: [id], onDelete: Cascade)

  @@index([paketCategoryId], map: "PaketSubCategory_paketCategoryId_fkey")
}

model paketPembelianCategory {
  id               Int            @id @default(autoincrement())
  paketPembelianId Int
  nama             String
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt
  paketPembelian   paketPembelian @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketPembelianId], map: "paketPembelianCategory_paketPembelianId_fkey")
}

model paketPembelianMateri {
  id               Int            @id @default(autoincrement())
  paketPembelianId Int
  nama             String
  materi           String?        @db.Text
  link             String?
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt
  paketPembelian   paketPembelian @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketPembelianId], map: "paketPembelianMateri_paketPembelianId_fkey")
}

model paketPembelianBimbel {
  id               Int                            @id @default(autoincrement())
  paketPembelianId Int
  date             DateTime
  nama             String
  mentor           String
  materiLink       String?
  videoLink        String?
  rekamanLink      String?
  createdAt        DateTime                       @default(now())
  updatedAt        DateTime                       @updatedAt
  paketLatihanId   Int?
  status           enumStatusPaketPembelianBimbel @default(BELUM)
  Tryout           Tryout[]
  paketLatihan     PaketLatihan?                  @relation(fields: [paketLatihanId], references: [id])
  paketPembelian   paketPembelian                 @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketLatihanId], map: "paketPembelianBimbel_paketLatihanId_fkey")
  @@index([paketPembelianId], map: "paketPembelianBimbel_paketPembelianId_fkey")
}

model paketPembelianFitur {
  id               Int            @id @default(autoincrement())
  paketPembelianId Int
  nama             String
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt
  paketPembelian   paketPembelian @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketPembelianId], map: "paketPembelianFitur_paketPembelianId_fkey")
}

model paketPembelianTryout {
  id               Int                        @id @default(autoincrement())
  paketPembelianId Int
  paketLatihanId   Int?
  createdAt        DateTime                   @default(now())
  updatedAt        DateTime                   @updatedAt
  type             enumTypePaketLatihanTryout @default(TRYOUT)
  Tryout           Tryout[]
  PaketLatihan     PaketLatihan?              @relation(fields: [paketLatihanId], references: [id])
  paketPembelian   paketPembelian             @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketLatihanId], map: "paketPembelianTryout_paketLatihanId_fkey")
  @@index([paketPembelianId], map: "paketPembelianTryout_paketPembelianId_fkey")
}

model paketPembelianKecermatan {
  id                       Int                            @id @default(autoincrement())
  paketPembelianId         Int
  createdAt                DateTime                       @default(now())
  updatedAt                DateTime                       @updatedAt
  type                     enumTypePaketLatihanKecermatan @default(KECERMATAN)
  kategoriSoalKecermatanId Int?
  kategoriSoalKecermatan   KategoriSoalKecermatan?        @relation(fields: [kategoriSoalKecermatanId], references: [id])
  paketPembelian           paketPembelian                 @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketPembelianId])
  @@index([kategoriSoalKecermatanId])
}

model paketPembelianBacaan {
  id                   Int                        @id @default(autoincrement())
  paketPembelianId     Int
  kategoriSoalBacaanId Int?
  createdAt            DateTime                   @default(now())
  updatedAt            DateTime                   @updatedAt
  type                 enumTypePaketLatihanBacaan @default(BACAAN)
  kategoriSoalBacaan   kategoriSoalBacaan?        @relation(fields: [kategoriSoalBacaanId], references: [id])
  paketPembelian       paketPembelian             @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketPembelianId])
  @@index([kategoriSoalBacaanId])
}

model paketPembelianIsian {
  id                  Int                       @id @default(autoincrement())
  paketPembelianId    Int
  kategoriSoalIsianId Int?
  createdAt           DateTime                  @default(now())
  updatedAt           DateTime                  @updatedAt
  type                enumTypePaketLatihanIsian @default(ISIAN)
  kategoriSoalIsian   kategoriSoalIsian?        @relation(fields: [kategoriSoalIsianId], references: [id])
  paketPembelian      paketPembelian            @relation(fields: [paketPembelianId], references: [id], onDelete: Cascade)

  @@index([paketPembelianId])
  @@index([kategoriSoalIsianId])
}

model paketPembelian {
  id                       Int                        @id @default(autoincrement())
  nama                     String
  harga                    Int
  keterangan               String?                    @db.Text
  durasi                   Int                        @default(0)
  gambar                   String?
  createdAt                DateTime                   @default(now())
  updatedAt                DateTime                   @updatedAt
  panduan                  String?                    @db.Text
  paketLatihanId           Int?
  isActive                 Boolean                    @default(true)
  linkWa                   String?
  Pembelian                Pembelian[]
  VoucherProduct           VoucherProduct[]
  PaketLatihan             PaketLatihan?              @relation(fields: [paketLatihanId], references: [id])
  paketPembelianBacaan     paketPembelianBacaan[]
  paketPembelianBimbel     paketPembelianBimbel[]
  paketPembelianCategory   paketPembelianCategory[]
  paketPembelianFitur      paketPembelianFitur[]
  paketPembelianIsian      paketPembelianIsian[]
  paketPembelianKecermatan paketPembelianKecermatan[]
  paketPembelianMateri     paketPembelianMateri[]
  paketPembelianTryout     paketPembelianTryout[]

  @@index([paketLatihanId], map: "paketPembelian_paketLatihanId_fkey")
}

model PaketLatihan {
  id                   Int                    @id @default(autoincrement())
  nama                 String
  kkm                  Int
  banner               String
  isShareAnswer        Boolean                @default(false)
  keterangan           String?                @db.Text
  waktu                Int                    @default(0)
  type                 enumTypePaketLatihan
  startAt              DateTime?
  endAt                DateTime?
  createdAt            DateTime               @default(now())
  updatedAt            DateTime               @updatedAt
  PaketLatihanSoal     PaketLatihanSoal[]
  Tryout               Tryout[]
  paketPembelian       paketPembelian[]
  paketPembelianBimbel paketPembelianBimbel[]
  paketPembelianTryout paketPembelianTryout[]
}

model PaketLatihanSoal {
  id                 Int              @id @default(autoincrement())
  paketLatihanId     Int
  bankSoalCategoryId Int
  createdAt          DateTime         @default(now())
  updatedAt          DateTime         @updatedAt
  bankSoalCategory   BankSoalCategory @relation(fields: [bankSoalCategoryId], references: [id], onDelete: Cascade)
  paketLatihan       PaketLatihan     @relation(fields: [paketLatihanId], references: [id], onDelete: Cascade)

  @@index([bankSoalCategoryId], map: "PaketLatihanSoal_bankSoalCategoryId_fkey")
  @@index([paketLatihanId], map: "PaketLatihanSoal_paketLatihanId_fkey")
}

model Pembelian {
  id                          Int                 @id @default(autoincrement())
  userId                      Int?
  paketPembelianId            Int?
  namaPaket                   String?
  duration                    Int                 @default(0)
  paymentUrl                  String?
  status                      enumPembelianStatus
  voucherCode                 String?
  voucherValue                Int                 @default(0)
  voucherAlumniValue          Int                 @default(0)
  amount                      Int                 @default(0)
  invoice                     String?             @unique
  paymentMethod               String
  paidAt                      DateTime?
  createdAt                   DateTime            @default(now())
  updatedAt                   DateTime            @updatedAt
  expiredAt                   DateTime?
  affiliateUserId             Int?
  affiliate_commission_amount Decimal             @default(0.00) @db.Decimal(10, 2)
  affiliate_commission_type   enumTypeComission   @default(percent)
  affiliateUser               User?               @relation("ReferredPurchases", fields: [affiliateUserId], references: [id])
  paketPembelian              paketPembelian?     @relation(fields: [paketPembelianId], references: [id])
  user                        User?               @relation(fields: [userId], references: [id])

  @@index([paketPembelianId], map: "Pembelian_paketPembelianId_fkey")
  @@index([userId], map: "Pembelian_userId_fkey")
  @@index([affiliateUserId], map: "Pembelian_affiliateUserId_fkey")
}

model Voucher {
  id             Int                     @id @default(autoincrement())
  kode           String?                 @unique
  tipePotongan   enumTipePotonganVoucher
  tipe           enumTipeVoucher         @default(NORMAL)
  gambar         String
  value          Int                     @default(0)
  status         enumStatus
  keterangan     String?                 @db.Text
  createdAt      DateTime                @default(now())
  updatedAt      DateTime                @updatedAt
  deletedAt      DateTime?
  VoucherProduct VoucherProduct[]
}

model VoucherProduct {
  id             Int            @id @default(autoincrement())
  voucherId      Int
  paketId        Int
  createdAt      DateTime       @default(now())
  updatedAt      DateTime       @updatedAt
  paketPembelian paketPembelian @relation(fields: [paketId], references: [id], onDelete: Cascade)
  voucher        Voucher        @relation(fields: [voucherId], references: [id], onDelete: Cascade)

  @@index([voucherId], map: "VoucherProduct_voucherId_fkey")
  @@index([paketId], map: "VoucherProduct_paketId_fkey")
}

model Tryout {
  id                     Int                   @id @default(autoincrement())
  userId                 Int
  paketLatihanId         Int?
  point                  Int                   @default(0)
  kkm                    Int                   @default(0)
  maxPoint               Int                   @default(0)
  finishAt               DateTime?
  waktuPengerjaan        Int?                  @default(0)
  createdAt              DateTime              @default(now())
  updatedAt              DateTime              @updatedAt
  paketPembelianBimbelId Int?
  paketPembelianTryoutId Int?
  paketLatihan           PaketLatihan?         @relation(fields: [paketLatihanId], references: [id])
  paketPembelianBimbel   paketPembelianBimbel? @relation(fields: [paketPembelianBimbelId], references: [id])
  paketPembelianTryout   paketPembelianTryout? @relation(fields: [paketPembelianTryoutId], references: [id])
  user                   User                  @relation(fields: [userId], references: [id], onDelete: Cascade)
  TryoutSoal             TryoutSoal[]

  @@index([paketLatihanId], map: "Tryout_paketLatihanId_fkey")
  @@index([paketPembelianBimbelId], map: "Tryout_paketPembelianBimbelId_fkey")
  @@index([paketPembelianTryoutId], map: "Tryout_paketPembelianTryoutId_fkey")
  @@index([userId], map: "Tryout_userId_fkey")
}

model TryoutSoal {
  id            Int           @id @default(autoincrement())
  tryoutId      Int
  soalId        Int
  soal          String        @db.Text
  jawaban       String?       @db.Text
  jawabanShow   String?       @db.Text
  jawabanSelect Int?
  isCorrect     Boolean       @default(false)
  pembahasan    String?       @db.Text
  point         Int           @default(0)
  kkm           Int           @default(0)
  maxPoint      Int           @default(0)
  category      String?
  categoryKet   String?
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt
  duration      Int           @default(0)
  subCategory   String?       @db.VarChar(255)
  tipePenilaian tipePenilaian @default(BENAR_SALAH)
  tryout        Tryout        @relation(fields: [tryoutId], references: [id], onDelete: Cascade)

  @@index([tryoutId], map: "TryoutSoal_tryoutId_fkey")
}

model Event {
  id         Int      @id @default(autoincrement())
  nama       String
  keterangan String?  @db.Text
  gambar     String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model HomeSection {
  id         Int                 @id @default(autoincrement())
  title      String?
  bintang    Int?
  pekerjaan  String?
  keterangan String?             @db.Text
  url        String?
  gambar     String?
  createdAt  DateTime            @default(now())
  updatedAt  DateTime            @updatedAt
  tipe       enumHomeSectionTipe
}

model Notification {
  id               Int                @id @default(autoincrement())
  title            String?
  keterangan       String?            @db.Text
  url              String?
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  icon             String?            @db.Text
  NotificationUser NotificationUser[]
}

model NotificationUser {
  id             Int                 @id @default(autoincrement())
  userId         Int
  notificationId Int?
  isRead         Boolean             @default(false)
  createdAt      DateTime            @default(now())
  updatedAt      DateTime            @updatedAt
  title          String?
  status         NotificationStatus?
  type           NoticationType      @default(SYSTEM)
  keterangan     String?             @db.Text
  url            String?
  notification   Notification?       @relation(fields: [notificationId], references: [id], onDelete: Cascade)
  user           User                @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([notificationId], map: "NotificationUser_notificationId_fkey")
  @@index([userId], map: "NotificationUser_userId_fkey")
}

model KategoriSoalKecermatan {
  id                       Int                        @id @default(autoincrement())
  judul_kategori           String
  keterangan               String?                    @db.Text
  createdAt                DateTime                   @default(now())
  updatedAt                DateTime                   @updatedAt
  KecermatanHistory        KecermatanHistory[]
  KecermatanRanking        KecermatanRanking[]
  Kiasan                   Kiasan[]
  paketPembelianKecermatan paketPembelianKecermatan[]
}

model Kiasan {
  id                       Int                    @id @default(autoincrement())
  kategoriSoalKecermatanId Int
  karakter                 Json
  kiasan                   Json
  createdAt                DateTime               @default(now())
  updatedAt                DateTime               @updatedAt
  waktu                    Int                    @default(0)
  KecermatanHistory        KecermatanHistory[]
  kategoriSoalKecermatan   KategoriSoalKecermatan @relation(fields: [kategoriSoalKecermatanId], references: [id], onDelete: Cascade)
  SoalKecermatan           SoalKecermatan[]

  @@index([kategoriSoalKecermatanId])
}

model SoalKecermatan {
  id                Int                 @id @default(autoincrement())
  kiasanId          Int
  soal              Json
  jawaban           String
  createdAt         DateTime            @default(now())
  updatedAt         DateTime            @updatedAt
  KecermatanHistory KecermatanHistory[]
  kiasan            Kiasan              @relation(fields: [kiasanId], references: [id], onDelete: Cascade)

  @@index([kiasanId])
}

model KecermatanRanking {
  id                       Int                    @id @default(autoincrement())
  userId                   Int
  kategoriSoalKecermatanId Int
  score                    Int
  totalSoal                Int
  totalBenar               Int
  totalSalah               Int
  waktu                    Int
  createdAt                DateTime               @default(now())
  updatedAt                DateTime               @updatedAt
  kategoriSoalKecermatan   KategoriSoalKecermatan @relation(fields: [kategoriSoalKecermatanId], references: [id], onDelete: Cascade)
  user                     User                   @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([kategoriSoalKecermatanId], map: "KecermatanRanking_kategoriSoalKecermatanId_fkey")
  @@index([userId], map: "KecermatanRanking_userId_fkey")
}

model KecermatanHistory {
  id                       Int                    @id @default(autoincrement())
  userId                   Int
  kategoriSoalKecermatanId Int
  soalKecermatanId         Int
  jawaban                  String
  createdAt                DateTime               @default(now())
  updatedAt                DateTime               @updatedAt
  kiasanId                 Int?
  kategoriSoalKecermatan   KategoriSoalKecermatan @relation(fields: [kategoriSoalKecermatanId], references: [id], onDelete: Cascade)
  kiasan                   Kiasan?                @relation(fields: [kiasanId], references: [id], onDelete: Cascade)
  soalKecermatan           SoalKecermatan         @relation(fields: [soalKecermatanId], references: [id], onDelete: Cascade)
  user                     User                   @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([kategoriSoalKecermatanId], map: "KecermatanHistory_kategoriSoalKecermatanId_fkey")
  @@index([kiasanId], map: "KecermatanHistory_kiasanId_fkey")
  @@index([soalKecermatanId], map: "KecermatanHistory_soalKecermatanId_fkey")
  @@index([userId], map: "KecermatanHistory_userId_fkey")
}

model kategoriSoalBacaan {
  id                   Int                    @id @default(autoincrement())
  judul_kategori       String
  keterangan           String?                @db.Text
  createdAt            DateTime               @default(now())
  updatedAt            DateTime               @updatedAt
  bacaan               Bacaan[]
  paketPembelianBacaan paketPembelianBacaan[]
}

model Bacaan {
  id                   Int                @id @default(autoincrement())
  bacaan               String             @db.Text
  createdAt            DateTime           @default(now())
  updatedAt            DateTime           @updatedAt
  kategoriSoalBacaanId Int
  kategoriSoalBacaan   kategoriSoalBacaan @relation(fields: [kategoriSoalBacaanId], references: [id], onDelete: Cascade)
  historyBacaan        historyBacaan[]
  soalBacaan           soalBacaan[]

  @@index([kategoriSoalBacaanId], map: "Bacaan_kategoriSoalBacaanId_fkey")
}

model soalBacaan {
  id            Int             @id @default(autoincrement())
  bacaanId      Int
  soal          String          @db.Text
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt
  jawaban       String?
  historyBacaan historyBacaan[]
  bacaan        Bacaan          @relation(fields: [bacaanId], references: [id], onDelete: Cascade)

  @@index([bacaanId], map: "soalBacaan_bacaanId_fkey")
}

model historyBacaan {
  id           Int        @id @default(autoincrement())
  userId       Int
  bacaanId     Int
  soalBacaanId Int
  bacaanHistoryId Int?
  createdAt    DateTime   @default(now())
  updatedAt    DateTime   @updatedAt
  isCorrect    Boolean    @default(false)
  jawaban      String
  bacaan       Bacaan     @relation(fields: [bacaanId], references: [id], onDelete: Cascade)
  soalBacaan   soalBacaan @relation(fields: [soalBacaanId], references: [id], onDelete: Cascade)
  user         User       @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([bacaanId], map: "historyBacaan_bacaanId_fkey")
  @@index([soalBacaanId], map: "historyBacaan_soalBacaanId_fkey")
  @@index([userId], map: "historyBacaan_userId_fkey")
}

model kategoriSoalIsian {
  id                  Int                   @id @default(autoincrement())
  judul_kategori      String
  keterangan          String?               @db.Text
  createdAt           DateTime              @default(now())
  updatedAt           DateTime              @updatedAt
  historyIsian        historyIsian[]
  paketPembelianIsian paketPembelianIsian[]
  soalIsian           soalIsian[]
}

model soalIsian {
  id                  Int               @id @default(autoincrement())
  kategoriSoalIsianId Int
  soal                String            @db.Text
  jawaban             String?           @db.Text
  createdAt           DateTime          @default(now())
  updatedAt           DateTime          @updatedAt
  historyIsian        historyIsian[]
  kategoriSoalIsian   kategoriSoalIsian @relation(fields: [kategoriSoalIsianId], references: [id], onDelete: Cascade)

  @@index([kategoriSoalIsianId], map: "soalIsian_kategoriSoalIsianId_fkey")
}

model historyIsian {
  id                  Int               @id @default(autoincrement())
  userId              Int
  kategoriSoalIsianId Int
  soalIsianId         Int
  isianHistoryId      Int?
  jawaban             String
  isCorrect           Boolean           @default(false)
  createdAt           DateTime          @default(now())
  updatedAt           DateTime          @updatedAt
  score               Int               @default(0)
  kategoriSoalIsian   kategoriSoalIsian @relation(fields: [kategoriSoalIsianId], references: [id], onDelete: Cascade)
  soalIsian           soalIsian         @relation(fields: [soalIsianId], references: [id], onDelete: Cascade)
  user                User              @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([kategoriSoalIsianId])
  @@index([soalIsianId])
}

enum EnumRole {
  ADMIN
  USER
}

enum enumGender {
  L
  P
}

enum tipePenilaian {
  BENAR_SALAH
  POINT
}

enum enumStatusPaketPembelianBimbel {
  BELUM
  SEDANG
  SELESAI
}

enum enumTypePaketLatihanTryout {
  TRYOUT
  PENDAHULUAN
  PEMANTAPAN
}

enum enumTypePaketLatihanKecermatan {
  KECERMATAN
  TRYOUT
  PENDAHULUAN
  PEMANTAPAN
}

enum enumTypePaketLatihanBacaan {
  BACAAN
  KECERMATAN
  TRYOUT
  PENDAHULUAN
  PEMANTAPAN
}

enum enumTypePaketLatihanIsian {
  ISIAN
  BACAAN
  KECERMATAN
  TRYOUT
  PENDAHULUAN
  PEMANTAPAN
}

enum enumTypePaketLatihan {
  BIASA
  TRYOUT
}

enum enumPembelianStatus {
  UNPAID
  PAID
  REFUND
  EXPIRED
  FAILED
}

enum enumTipePotonganVoucher {
  HARGA
  PERSEN
}

enum enumTipeVoucher {
  NORMAL
  ALUMNI
}

enum enumStatus {
  AKTIF
  NONAKTIF
}

enum enumHomeSectionTipe {
  BANNER
  REVIEW
  CUSTOM
}

enum NoticationType {
  SYSTEM
  USER
}

enum NotificationStatus {
  PAYMENT_PENDING
  PAYMENT_SUCCESS
  PAYMENT_FAILED
  BIMBEL_CHANGES
}

enum enumNotificationType {
  info
  success
  warning
  error
}

enum enumNotificationStatus {
  active
  archived
  deleted
}

enum AffiliateStatus {
  active
  inactive
}

enum AffiliateWithdrawalStatus {
  pending
  approved
  rejected
}

enum enumTypeComission {
  percent
  nominal
}
